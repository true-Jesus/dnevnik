<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Электронный дневник</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }

    header {
      background-color: #333;
      color: #fff;
      padding: 1rem 0;
      text-align: center;
    }

    main {
      padding: 2rem 0;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }

    .button {
      background-color: #6a572f;
      color: white;
      padding: 1rem 2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: #45a049;
    }

    footer {
      background-color: #333;
      color: #fff;
      padding: 1rem 0;
      text-align: center;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
    }

  </style>
</head>
<body>
<header>
  <h1>Электронный дневник</h1>
</header>

<main>
  <h1 id="welcome-message" style="text-align: center; margin-bottom: 1rem;"></h1>
  <div class="container">
    <button class="button" onclick="window.location.href = '/Gr'">таблица оценок</button>
    <button class="button" onclick="window.location.href='/Analitic'">Аналитика</button>
<!--    <button class="button" onclick="window.location.href='grades.html'">Проставление оценок</button>-->
<!--    <button class="button" onclick="window.location.href='communication.html'">Общение с учениками</button>-->
<!--    <button class="button" onclick="window.location.href='parent_communication.html'">Общение с родителями</button>-->
<!--    <button class="button" onclick="window.location.href='notifications.html'">Уведомления</button>-->
<!--    <button class="button" onclick="window.location.href='class_management.html'">Управление классом</button>-->
<!--    <button class="button" onclick="window.location.href='additional_features.html'">Дополнительные функции</button>-->
<!--    <button class="button" onclick="window.location.href='analytics.html'">Аналитика</button>-->

  </div>
</main>
<footer>
  <p>&copy; 2023 Электронный дневник</p>
</footer>
<script>
  // Проверка авторизации при загрузке страницы
  function checkAuth() {
    var token = getCookie('authToken');
    if (!token) {
      // Пользователь не авторизован
      window.location.href = '/auf'; // Перенаправить на страницу входа
    } else {
      // Пользователь авторизован
      displayWelcomeMessage();
    }
  }

  // Функция для получения имени пользователя из куки
  function getUserNameFromCookie() {
    const nameEQ = "user=";
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) === ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }


  // Функция для отображения приветственного сообщения
  function displayWelcomeMessage() {
    const userName = getUserNameFromCookie();
    if (userName) {
      const welcomeMessageElement = document.getElementById('welcome-message');
      welcomeMessageElement.textContent = `Добро пожаловать, ${decodeURIComponent(userName)}!`;
    }
  }


  // Функция для получения токена из куки
  function getCookie(name) {
    const value = "; " + document.cookie;
    const parts = value.split("; " + name + "=");
    if (parts.length === 2) return parts.pop().split(";").shift();
  }

  // Вызываем checkAuth() при загрузке страницы
  window.onload = checkAuth;

  // ... (другие скрипты)
</script>
</body>
</html>

